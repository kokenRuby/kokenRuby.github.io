# Twitterもどきを作ろう

### このセクションでは今までやってきたことを基礎として実際にWEBサービスを作っていきます.

### 題材はtwitterっぽい掲示板です. フォローフォロワー機能は今回つけませんが(この機能を付けると結構複雑になってしまい初めてにしては重いなと感じたので今回は取り入れませんでした)これで掲示板作成ができるようになるので頑張っていきましょう.

### 今回作成する掲示板の機能として「ユーザー認証」,「ツイート投稿機能」,「ツイートの評価機能」を実装していきます.

### まずはDB設計をします.

### ユーザー、ツイート、ツイート評価の三種類のデータが存在するので、その分のモデルを作成しましょう.

##### イメージ図
![db_schema](https://kokenstudy.github.io/2017/assets/img/sec_3/db_schema.png)

### ユーザーモデルはdeviseの機能を使います.

### まずはプロジェクト作成です
```bash
$ rails new koken_forum -d mysql
```

### 次にモデルを作成しましょう
```bash
$ cd koken_forum
$ vi Gemfile
```

### deviseはもちろん入れますが,今回は bootstrap というCSSフレームワークをrailsから入れます

### これはCSSの設定をいちいち書かなくてもすごい綺麗な感じにしてくれるものです. きになる人は bootstrap で調べてみてください

##### Gemfile
```ruby
..........
gem 'bootstrap-sass'
gem 'devise'
gem 'devise-bootstrap-views' # それっぽいログイン画面のHTMLを自動で生成してくれるgem、これがなくても自分で作れば済む話ですが時間短縮のため使います.

# devise-bootstrap-viewsの日本語対応のためのgem
gem 'devise-i18n'
gem 'devise-i18n-views'
..........
```

### gemをインストールします

#### prompt
```bash
$ bundle install
```

### bootstrapの設定を書き込みます. ここら辺はコピペでいいでしょう

##### app/assets/stylesheets/application.scss
```scss
@import "bootstrap-sprockets";
@import "bootstrap";
```

##### app/assets/javascripts/application.js(コメントアウトに見えますがこのまま書いてください.)
```js
//= require rails-ujs
//= require turbolinks
//= require jquery
//= require bootstrap-sprockets
//= require_tree .
```

### 前準備はこれで終了です. それでは初めてのWEBアプリを作っていきましょう.
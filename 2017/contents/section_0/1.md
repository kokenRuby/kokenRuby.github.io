# ~環境構築~
ここでは必要なソフトウェアのインストールを行います. 以下のソフトウェアをインストールしてください

* [Virtual Box](http://www.oracle.com/technetwork/server-storage/virtualbox/downloads/index.html?ssSourceSiteId=otnjp)
### PCに仮想環境立ち上げるソフトウェアです.
### Oracle VM VirtualBox Base Packages より対応したOSのものをインストールしてください.

* [vagrant](https://www.vagrantup.com/downloads.html)
### Virtual Boxはそのまま扱うと操作が少し難しいので、それを簡単にしたのがvagrantです
### 対応したOSのものをインストールしてください. また,インストールするときはVirtualBox => vagrant の順番でインストールするようにしてください.

* [Git for Windows(windowsの人のみ)](https://git-for-windows.github.io/)
### windowsはUNIXターミナル(cdコマンドとかlsとか打ち込めるコンリテでもお世話になったアレです)がありません. 
### このソフトはそのターミナルとgitコマンドというものを提供してくれるソフトです. これはvirtualbox, vagrantのようにソフトのインストール手順を意識する必要はありません

* [Heidi SQL](https://www.heidisql.com/download.php)
### HeidiSQL Installer] というところからインストールしましょう. 設定は全てデフォルトで構いません.
### このソフトについてはあとで説明をします

#### 一通りインストールしたら次へ進みましょう

### GitBashを立ち上げたらホームディレクトリに「vagrant」というディレクトリを、そしてその中に進んでからさらに「centos」というディレクトリを作りましょう。(ディレクトリ名はなんでもいいですがわかりやすい名前にした方がいいです)

```
$ mkdir vagrant
$ cd vagrant
$ mkdir centos
$ cd centos
```

### そして「centos」の中に配布したファイルを全てドラッグアンドドロップで入れてください。

### ファイルを入れる先はWindowsの場合 C:\Users\あなたのユーザー名\vagrant\centos です。
### それが終わったら「centos」の中で以下のコマンドを打ち込みましょう。
```
vagrant box add CentOS7.2 ./package.box
```

### このコマンドの「CentOS6.5」という部分はbox名というものなのですがこれは変えないでください。 
### 実はVagrantfile内部で「CentOS6.5」という名前で設定しているので変えると起動しなくなります。(まあVagrantfileの内容を変えれば済む話ですが)

### 次に仮想環境を立ち上げましょう。以下のコマンドを打ち込んでください。

```
vagrant up
```

### 立ち上がりが終わった後仮想環境内にsshで入ります。

```
vagrant ssh
```

### で入りましょう passwordは「vagrant」です
### さあ仮想環境内に入りました. 仮想環境内で

```
cd /vagrant
```

### と打ってください。このファイルがみなさんのOSの~/vagrant/centosとの共有ディレクトリになっています。

### /vagrant内部でlsを打つとおそらく「package.box」「Vagrantfile」「proxy_settings.sh」があると思います。 ここまで何もなく来れたら成功です。

### また、以下のコマンドは覚えておきましょう。

#### 仮想環境を一時停止したい場合は(作業を一時中断したい時などに有効)
```
vagrant suspend
```
#### シャットダウンは
```
vagrant halt
```
#### 再起動は
```
vagrant reload
```
#### 仮想環境から抜けるときは
```
$ exit
```
### となります。 立ち上げる時は「vagrant up」です。これらのコマンドは覚えておきましょう。

## proxy設定 〜

### 今回の講習で使うのは主にRuby, Ruby on Rails, MySQLというソフトウェアです

### ですが、その前にproxyの設定をしましょう

### viコマンドで/etc/yum.confを開いてください (vi, vimの使い方がわからない場合、左側のメニューにviの使い方が書いてあるのでそちらを参照してください. それでもわからない場合はTAに聞きましょう)

```
vi /etc/yum.conf
```

### 開いたら一番下に以下の文字を打ち込んでください

```
/etc/yum.conf内部
proxy=http://proxy.uec.ac.jp
```

### proxy環境外にでたらこの行を削除しましょう

### 次にproxy_settings.shを使います. 以下のコマンドを打ち込んでください
```
$ source /vagrant/proxy_settings.sh
$ uec_proxy
```

### これでproxy設定完了です

# Ruby, Ruby on Railsのインストール

### それでは何かソフトウェアをインストールしましょう
### まずははじめにvimというエディタをインストールします

```
$ sudo yum install vim
# パスワードを求められたら vagrant 
```

### これでうまくいかなかったらすぐにTAに質問してください

### なんか色々出てきた後vimをインストールすることができました

### 続いてgitというバージョン管理ソフトをインストールします
### なんかソフトウェア開発をするときセーブポイントを作るツールだと思ってください

```
$ sudo yum install git
```

### 次にrubyをインストールする前の準備をします
```
$ sudo yum install gcc-c++ glibc-headers openssl-devel readline libyaml-devel readline-devel zlib zlib-devel lbzip2
```

### さあrubyをインストールしましょう

```
$ sudo yum install ruby
```

### 一通りインストールしました. この状態でソフトウェアのupdateをします
```
$ sudo yum update
```

### rubyのバージョンを確認してみましょう
```
$ ruby -v
```

### 次にrailsのインストールをします rubyをインストールするとそのプラグイン(ライブラリと考えてください)を管理するコマンドが使えるようになります. 
### rubyのプラグインのことをgemと言います. 覚えておきましょう

### 以下のコマンドを打ち込んでください.
```
$ gem install bundler     # gemを管理するgem
$ gem install rails       # rails本体
```

### バージョンの確認
```
$ rails -v
```

### これでrailsのインストールが終わりました

# MySQLのインストール

### 先にmariaDBというソフトウェアが入っているのでそれを削除します

```
$ sudo yum remove mariadb-libs
```

### MySQLとはデータを入れるためのソフトウェアです. このソフトに掲示板の書き込みなどのデータを入れていくイメージを持ってください. 以下のコマンドを打ち込みましょう
```
$ sudo yum localinstall http://dev.mysql.com/get/mysql57-community-release-el7-7.noarch.rpm

mysql一式のインストール
$ sudo yum install mysql mysql-devel mysql-server mysql-utilities

mysqlの初期化
$ mysqld --user=mysql --initialize
```

### インストールしたらMysqlを起動します. 以下のコマンドです
```
$ systemctl start mysqld.service
```

### また自動起動設定をしましょう
```
$ systemctl enable mysqld.service
```

### 以下のコマンドも頭の片隅に入れておいてください
```
systemctl stop mysqld.service
systemctl restart mysqld.service
```

### mysqlの初期化をすることでmysqlのrootユーザーに自動的にパスワードが設定されます. 以下のコマンドで確認しましょう

```
$ grep password /var/log/mysqld.log
```

### MySQLにログインします
```
$ mysql -u root
passwordは一個前のコマンドで調べたもの

パスワードの変更処理
mysql > use mysql
mysql > UPDATE user SET authentication_string=password('なんかパスワード') WHERE user='root';
mysql > flush privileges;
```

### もう一回mysqlにログインするとパスワード変更しなさいみたいなメッセージが出てきます. もう一度これを打ち込みましょう

```
$ mysql -u root

mysql> SET PASSWORD = PASSWORD('なんかパスワード');
```

### 以上で環境構築は終了です。 なにかわからないこと等あれば周りの先輩に聞いてみてください.

# 課題

## 課題1. yumでnodeをインストールせよ またこの際sudoをつけないとどうなるかを確認せよ
### hint... vimのインストールなら sudo yum install vim じゃあnodeの場合どうなる？ nodeとはjavascriptをPC場で動かすプラットフォームのことである

## 課題2. yumでphpをインストールせよ

## 課題3. yumでhtopをインストールせよ　htopとはPCの状態を確認するソフトウェアである

#### 課題4以降はMySQLについての説明があるのでそれが終わってから取り組んでください 
## 課題4. mysqlにログインをし,データベースの作成をせよ

## 課題5. データベースの中に「users」というテーブルを作成せよ カラムのしては特にない. 好きなようにやってみてください

## 課題6. usersテーブルの中にいくつかレコードを挿入せよ

## 課題7. usersテーブル内のidが4以上のレコードを取り出せ

## 課題8. tweetsテーブルを作成せよ
#### カラムは
| カラム名    | カラム属性    | type         |
|:-----------|------------:|:------------:|
| id         | int         | primary_key  |
| user_id    | int         | column       |
| tweet      | text        |              |
#### とする

## 課題9. tweetsテーブルにユーザ一人につき4個のレコードを挿入せよ

## 課題10. userのIDが1であるtweetを取り出せ

## 応用課題1. yumでnginxをインストールせよ. バージョンは最新版でなくても良い
## 応用課題2(超絶難易度・・・？). nginxの設定をし, ホストOS(windows) よりlocalhost:80/index.phpを開くとWEBページが開くように設定をせよ